<form [formGroup]="personForm" (ngSubmit)="onSubmit()" class="p-4 bg-white rounded shadow-md">
  <table class="w-full">
    <tr>
      <td class="px-2 py-1">Nombre:</td>
      <td class="px-2 py-1"><input type="text" formControlName="name" class="w-full border border-gray-300 rounded px-2 py-1" /></td>
    </tr>
    <tr>
      <td class="px-2 py-1">Edad:</td>
      <td class="px-2 py-1"><input type="number" formControlName="age" class="w-full border border-gray-300 rounded px-2 py-1" /></td>
    </tr>
  </table>
  <br />

  <!-- Formulario para los hijos (children) -->
  <div formArrayName="children">
    <button type="button" (click)="addChild()" class="px-2 py-1 bg-green-500 text-white rounded">Agregar hijo</button>
    <table class="w-full">
      <tr>
        <td class="px-2 py-1">Nombre del hijo:</td>
        <td class="px-2 py-1">Edad del hijo:</td>
        <td></td>
      </tr>
      <tr>
        <div *ngFor="let child of children.controls; let i = index">
          <div [formGroupName]="i">
            <td class="px-2 py-1">
              <input type="text" readonly formControlName="name" class="w-full border border-gray-300 rounded px-2 py-1" />
            </td>
            <td class="px-2 py-1">
              <input type="number" readonly formControlName="age" class="w-full border border-gray-300 rounded px-2 py-1" />
            </td>
            <td class="px-2 py-1">
              <button type="button" (click)="removeChild(i)" class="px-2 py-1 bg-red-500 text-white rounded">Eliminar hijo</button>
            </td>
          </div>
        </div>
      </tr>
    </table>
  </div>
  <br />

  <!-- Formulario para las películas favoritas (favoriteMovies) -->
  <div formArrayName="favoriteMovies">
    <table class="w-full">
      <tr>
        <td class="px-2 py-1">Nombre de la película:</td>
        <td class="px-2 py-1">Director de la película:</td>
        <td class="px-2 py-1">Año de la película:</td>
        <td class="px-2 py-1">Ganó el Oscar:</td>
        <td></td>
      </tr>
      <tr *ngFor="let movie of favoriteMoviesControls; let i = index">
        <div [formGroupName]="i">
          <td class="px-2 py-1">
            <input type="text" formControlName="name" class="w-full border border-gray-300 rounded px-2 py-1" />
          </td>
          <td class="px-2 py-1">
            <input type="text" formControlName="director" class="w-full border border-gray-300 rounded px-2 py-1" />
          </td>
          <td class="px-2 py-1">
            <input type="number" formControlName="year" class="w-full border border-gray-300 rounded px-2 py-1" />
          </td>
          <td class="px-2 py-1">
            <input type="checkbox" formControlName="oscarWinner" />
          </td>
          <td class="px-2 py-1">
            <button type="button" (click)="removeFavoriteMovie(i)" class="px-2 py-1 bg-red-500 text-white rounded">Eliminar película favorita</button>
          </td>
        </div>
      </tr>
    </table>
    <button type="button" (click)="addFavoriteMovie()" class="px-2 py-1 bg-green-500 text-white rounded">Agregar película favorita</button>
  </div>
  <br />

  <button type="submit" class="px-4 py-2 bg-blue-500 text-white rounded">Enviar</button>
</form>
